(()=>{"use strict";console.log("=== Contex.ly Background Script Started ==="),chrome.runtime.onInstalled.addListener((()=>{console.log("Extension installed or updated"),chrome.contextMenus.removeAll((()=>{chrome.contextMenus.create({id:"simple-menu",title:"🔍 Contex.ly Menu",contexts:["all"],enabled:!0},(()=>{chrome.runtime.lastError?console.error("Failed to create menu:",chrome.runtime.lastError):console.log("Menu created successfully")}))}))})),chrome.contextMenus.onClicked.addListener(((e,o)=>{if(console.log("Menu click detected:",e.menuItemId),"simple-menu"===e.menuItemId){if(console.log("Contex.ly menu clicked"),!(null==o?void 0:o.id))return void console.error("No tab ID available");try{chrome.tabs.sendMessage(o.id,{action:"showResult",result:"✅ Menu clicked successfully!"},(e=>{chrome.runtime.lastError?console.error("Failed to send message:",chrome.runtime.lastError):console.log("Message sent successfully:",e)}))}catch(e){console.error("Error sending message:",e)}}}))})();